(function(){function c(a,b){this.curY=this.curX=this.startY=this.startX=this.fingerCount=0;this.minLength=72;this.callback=b;a.addEventListener("touchstart",this.touchStart.bind(this),!1);a.addEventListener("touchmove",this.touchMove.bind(this),!1);a.addEventListener("touchend",this.touchEnd.bind(this),!1)}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,
1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e});c.prototype.touchStart=function(a){this.fingerCount=a.touches&&a.touches.length||1;1==this.fingerCount?(this.startX=a.touches[0].pageX,this.startY=a.touches[0].pageY):this.touchCancel(a)};c.prototype.touchMove=function(a){a.touches&&1==a.touches.length?(this.curX=a.touches[0].pageX,this.curY=a.touches[0].pageY):this.touchCancel(a)};
c.prototype.touchEnd=function(a){if(1==this.fingerCount&&0!=this.curX&&Math.round(Math.sqrt(Math.pow(this.curX-this.startX,2)+Math.pow(this.curY-this.startY,2)))>=this.minLength){var b=this.caluculateAngle(),b=this.determineSwipeDirection(b);this.callback(b,a)}this.touchCancel(a)};c.prototype.touchCancel=function(a){this.curY=this.curX=this.startY=this.startX=this.fingerCount=0};c.prototype.caluculateAngle=function(){var a=this.startX-this.curX,b=this.curY-this.startY;Math.round(Math.sqrt(Math.pow(a,
2)+Math.pow(b,2)));a=Math.atan2(b,a);a=Math.round(180*a/Math.PI);0>this.swipeAngle&&(this.swipeAngle=360-Math.abs(this.swipeAngle));return a};c.prototype.determineSwipeDirection=function(a){return 45>=a&&-45<=a?"left":360>=a&&315<=a?"left":135<=a&&225>=a?"right":45<a&&135>a?"down":"up"};window.addSwipeListener=function(a,b){void 0!=a.nodeName&&new c(a,"function"==typeof b?b:function(){})}})();
